from .rect_check import isCorrectRect, RectCorrectError

def isCollisionRect(rect1, rect2):
    """
    Проверяет пересекаются ли два прямоугольника.
    
    Args:
        rect1: первый прямоугольник [(x1, y1), (x2, y2)]
        rect2: второй прямоугольник [(x3, y3), (x4, y4)]
    
    Returns:
        bool: True если прямоугольники пересекаются, False в противном случае
    
    Raises:
        RectCorrectError: если один из прямоугольников некорректен
    """
    # Проверяем корректность первого прямоугольника
    if not isCorrectRect(rect1):
        raise RectCorrectError("1й прямоугольник некоректный")
    
    # Проверяем корректность второго прямоугольника
    if not isCorrectRect(rect2):
        raise RectCorrectError("2й прямоугольник некоректный")
    
    # Извлекаем координаты первого прямоугольника
    (x1, y1), (x2, y2) = rect1
    
    # Извлекаем координаты второго прямоугольника
    (x3, y3), (x4, y4) = rect2
    
    # Проверяем пересечение по оси X
    # Прямоугольники не пересекаются по X если один полностью справа от другого
    no_overlap_x = x2 <= x3 or x4 <= x1
    
    # Проверяем пересечение по оси Y
    # Прямоугольники не пересекаются по Y если один полностью выше другого
    no_overlap_y = y2 <= y3 or y4 <= y1
    
    # Прямоугольники пересекаются если есть пересечение и по X и по Y
    # Если нет пересечения хотя бы по одной оси - прямоугольники не пересекаются
    return not (no_overlap_x or no_overlap_y)